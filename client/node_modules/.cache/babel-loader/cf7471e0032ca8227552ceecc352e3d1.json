{"ast":null,"code":"import _objectSpread from \"/home/tim/Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/home/tim/Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/tim/Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/tim/Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/tim/Project-3/client/src/pages/Donations.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"../components/Header\";\nimport NavBar from \"../components/NavBar\";\nimport Footer from \"../components/Footer\";\nimport DonorCard from \"../components/DonorCard\";\nimport API from \"../utils/API\";\n\nfunction Donations() {\n  //getting donor data to populate page\n  var _useState = useState({\n    donors: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var selectedDonor = data.selectedDonor,\n      donors = data.donors;\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            API.getData().then(function (res) {\n              if (!res) return;\n              console.log(res.data);\n              setData({\n                donors: res.data\n              });\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []); // function getDonors() {\n  //   API.getData()\n  //     .then(res => {\n  //       if (!res) return;\n  //       console.log(res.data);\n  //       setData({\n  //         donors: res.data\n  //       });\n  //     })\n  //     .catch(err => console.log(err));\n  // }\n\n  return React.createElement(React.Fragment, null, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Donations page\"), donors.length ? React.createElement(React.Fragment, null, donors.map(function (donor) {\n    return React.createElement(DonorCard, {\n      key: donor.name,\n      businessName: donor.businessName,\n      businessAddress: donor.businessAddress,\n      summary: donor.summary,\n      selectDonor: function selectDonor() {\n        return setData(_objectSpread({}, data, {\n          selectedDonor: donor\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    });\n  })) : React.createElement(\"div\", {\n    className: \"d-flex loading-spinner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"spinner-border\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Loading...\"))), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }));\n}\n\nexport default Donations;","map":{"version":3,"sources":["/home/tim/Project-3/client/src/pages/Donations.js"],"names":["React","useEffect","useState","Header","NavBar","Footer","DonorCard","API","Donations","donors","data","setData","selectedDonor","getData","then","res","console","log","length","map","donor","name","businessName","businessAddress","summary"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,GAAP,MAAgB,cAAhB;;AAEA,SAASC,SAAT,GAAqB;AACnB;AADmB,kBAGKN,QAAQ,CAAC;AAC/BO,IAAAA,MAAM,EAAE;AADuB,GAAD,CAHb;AAAA;AAAA,MAGZC,IAHY;AAAA,MAGNC,OAHM;;AAAA,MAOXC,aAPW,GAOeF,IAPf,CAOXE,aAPW;AAAA,MAOIH,MAPJ,GAOeC,IAPf,CAOID,MAPJ;AASnBR,EAAAA,SAAS,wEAAC;AAAA;AAAA;AAAA;AAAA;AACRM,YAAAA,GAAG,CAACM,OAAJ,GAAcC,IAAd,CAAmB,UAAAC,GAAG,EAAI;AACxB,kBAAI,CAACA,GAAL,EAAU;AACVC,cAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACL,IAAhB;AACAC,cAAAA,OAAO,CAAC;AACNF,gBAAAA,MAAM,EAAEM,GAAG,CAACL;AADN,eAAD,CAAP;AAGD,aAND;;AADQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAQN,EARM,CAAT,CATmB,CAmBnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SACE,0CACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,EAIGD,MAAM,CAACS,MAAP,GACC,0CACGT,MAAM,CAACU,GAAP,CAAW,UAAAC,KAAK;AAAA,WACf,oBAAC,SAAD;AACE,MAAA,GAAG,EAAEA,KAAK,CAACC,IADb;AAEE,MAAA,YAAY,EAAED,KAAK,CAACE,YAFtB;AAGE,MAAA,eAAe,EAAEF,KAAK,CAACG,eAHzB;AAIE,MAAA,OAAO,EAAEH,KAAK,CAACI,OAJjB;AAKE,MAAA,WAAW,EAAE;AAAA,eAAMb,OAAO,mBAAMD,IAAN;AAAYE,UAAAA,aAAa,EAAEQ;AAA3B,WAAb;AAAA,OALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADe;AAAA,GAAhB,CADH,CADD,GAaC;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,IAAI,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,CAjBJ,EAuBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,CADF;AA2BD;;AAED,eAAeZ,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Header from \"../components/Header\";\nimport NavBar from \"../components/NavBar\";\nimport Footer from \"../components/Footer\";\nimport DonorCard from \"../components/DonorCard\";\nimport API from \"../utils/API\";\n\nfunction Donations() {\n  //getting donor data to populate page\n\n  const [data, setData] = useState({\n    donors: []\n  });\n\n  const { selectedDonor, donors } = data;\n\n  useEffect(async () => {\n    API.getData().then(res => {\n      if (!res) return;\n      console.log(res.data);\n      setData({\n        donors: res.data\n      });\n    });\n  }, []);\n\n  // function getDonors() {\n  //   API.getData()\n  //     .then(res => {\n  //       if (!res) return;\n  //       console.log(res.data);\n  //       setData({\n  //         donors: res.data\n  //       });\n  //     })\n  //     .catch(err => console.log(err));\n  // }\n\n  return (\n    <>\n      <NavBar />\n      <Header />\n      <h1>Donations page</h1>\n      {donors.length ? (\n        <>\n          {donors.map(donor => (\n            <DonorCard\n              key={donor.name}\n              businessName={donor.businessName}\n              businessAddress={donor.businessAddress}\n              summary={donor.summary}\n              selectDonor={() => setData({ ...data, selectedDonor: donor })}\n            />\n          ))}\n        </>\n      ) : (\n        <div className=\"d-flex loading-spinner\">\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n        </div>\n      )}\n      <Footer />\n    </>\n  );\n}\n\nexport default Donations;\n"]},"metadata":{},"sourceType":"module"}